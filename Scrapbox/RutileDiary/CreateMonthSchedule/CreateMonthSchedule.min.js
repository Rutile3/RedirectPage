(function(){function d(a){return("0"+(a.getMonth()+1)).slice(-2)}var k="\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),a=function(){for(var a=location.search.substr(1).split("&"),c=0;c<a.length;c++){var b=a[c].split("="),d="yymm"===b[0],e=/^(\d{2}(0[1-9]|1[0-2]))$/.test(b[1]);if(d&&e)return a=b[1].substr(0,2),b=b[1].substr(2,2),new Date("20"+a+"-"+b)}return new Date}(),e=(""+a.getFullYear()).slice(-2),f=d(a),b=new Date(a.getTime()),c=new Date(a.getTime());b.setMonth(a.getMonth()-1);c.setMonth(a.getMonth()+1);b="[**** ["+((""+b.getFullYear()).slice(-2)+d(b))+"]\u2190\u2192["+((""+c.getFullYear()).slice(-2)+d(c))+"]]";c=b+"\n\n[*** 20"+(e+"\u5e74"+f+"\u6708]\n");for(var l=(new Date(a.getFullYear(),a.getMonth()+1,0)).getDate(),g=1;g<=l;g++){var h=new Date(a.getFullYear(),a.getMonth(),g),m=("0"+h.getDate()).slice(-2);c+="["+e+f+m+"] ";c+=k[h.getDay()]+" \n"}location.href="https://scrapbox.io/RutileDiary/"+e+f+"?body="+encodeURIComponent(c+("\n"+b+"\n\n#\u6708\u4e88\u5b9a\u8868\n"))})();